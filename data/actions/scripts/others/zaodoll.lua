function onUse(player, cid, item, fromPosition, target, toPosition, isHotkey)
	if player:getStorageValue(Storage.TheNewFrontier.Questline) <=27 then
		player:removeItem(20625, 1)
		doSendMagicEffect(getCreaturePosition(cid), 28)
		player:setStorageValue(Storage.TheNewFrontier.Questline, 28)
		player:setStorageValue(Storage.TheNewFrontier.Mission01, 3)
		player:setStorageValue(Storage.TheNewFrontier.Mission02, 6)
		player:setStorageValue(Storage.TheNewFrontier.Mission03, 3)
		player:setStorageValue(Storage.TheNewFrontier.Mission04, 2)
		player:setStorageValue(Storage.TheNewFrontier.Mission05, 7)
		player:setStorageValue(Storage.TheNewFrontier.Mission06, 3)
		player:setStorageValue(Storage.TheNewFrontier.Mission07, 3)
		player:setStorageValue(Storage.TheNewFrontier.Mission08, 2)
		player:setStorageValue(Storage.TheNewFrontier.Mission09, 3)
		player:setStorageValue(Storage.TheNewFrontier.Mission10, 1)
		player:setStorageValue(Storage.TheNewFrontier.TomeofKnowledge, 12)
		player:setStorageValue(Storage.TheNewFrontier.Beaver1, 1)
		player:setStorageValue(Storage.TheNewFrontier.Beaver2, 1)
		player:setStorageValue(Storage.TheNewFrontier.Beaver3, 1)
		player:setStorageValue(Storage.TheNewFrontier.BribeKing, 1)
		player:setStorageValue(Storage.TheNewFrontier.BribeLeeland, 1)
		player:setStorageValue(Storage.TheNewFrontier.BribeExplorerSociety, 1)
		player:setStorageValue(Storage.TheNewFrontier.BribeWydrin, 1)
		player:setStorageValue(Storage.TheNewFrontier.BribeTelas, 1)
		player:setStorageValue(Storage.TheNewFrontier.BribeHumgolf, 1)
		player:setStorageValue(Storage.ChildrenoftheRevolution.Questline, 21)
		player:setStorageValue(Storage.ChildrenoftheRevolution.Mission00, 2)
		player:setStorageValue(Storage.ChildrenoftheRevolution.Mission01, 3)
		player:setStorageValue(Storage.ChildrenoftheRevolution.Mission02, 5)
		player:setStorageValue(Storage.ChildrenoftheRevolution.Mission03, 3)
		player:setStorageValue(Storage.ChildrenoftheRevolution.Mission04, 6)
		player:setStorageValue(Storage.ChildrenoftheRevolution.Mission05, 3)
		player:setStorageValue(Storage.ChildrenoftheRevolution.SpyBuilding01, 1)
		player:setStorageValue(Storage.ChildrenoftheRevolution.SpyBuilding02, 1)
		player:setStorageValue(Storage.ChildrenoftheRevolution.SpyBuilding03, 1)
		player:setStorageValue(Storage.ChildrenoftheRevolution.StrangeSymbols, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.Questline, 34)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission01, 3)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission02, 3)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission03, 3)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission04, 3)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission05, 3)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission06, 4)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission07, 6)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission08, 2)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission09, 2)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission10, 6)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission11, 2)
		player:setStorageValue(Storage.WrathoftheEmperor.Mission12, 0)
		player:setStorageValue(Storage.WrathoftheEmperor.CrateStatus, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.GuardcaughtYou, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.ZumtahStatus, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.PrisonReleaseStatus, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.GhostOfAPriest01, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.GhostOfAPriest02, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.GhostOfAPriest03, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.InterdimensionalPotion, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.BossStatus, 1)
		player:setStorageValue(Storage.WrathoftheEmperor.platinumReward, 0)
		player:setStorageValue(Storage.WrathoftheEmperor.backpackReward, 0)
		player:setStorageValue(Storage.WrathoftheEmperor.mainReward, 0)
		player:setStorageValue(Storage.WrathoftheEmperor.TeleportAcess, 1)
		player:getPosition():sendMagicEffect(CONST_ME_MAGIC_BLUE)
        -- Quest Addons
		player:addOutfit(335, 2)
		player:addOutfit(336, 2)
		player:sendTextMessage(MESSAGE_EVENT_ADVANCE, "Quest Unlocked...")
	else
		player:sendTextMessage(MESSAGE_EVENT_ADVANCE, "You already unlocked this quest.")
	end
	return true
end